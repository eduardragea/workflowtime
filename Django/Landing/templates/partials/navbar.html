{% load static %}
{% load i18n %}
{% block navbar %}
<!--Navbar Start-->
<nav class="navbar navbar-expand-lg fixed-top navbar-custom" id="navbar">
    <div class="container">
        <!-- LOGO -->
        <a class="navbar-brand logo" href="/">
            <img src="{% static 'images/logo-dark.png' %}" alt="" class="logo-dark" height="28" />
            <img src="{% static 'images/logo-light.png' %}" alt="" class="logo-light" height="28" />
        </a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav ms-auto navbar-center" id="navbar-navlist">
                <li class="nav-item">
                    <a href="#home" class="nav-link">Home</a>
                </li>
                <li class="nav-item">
                    <a href="#services" class="nav-link">Services</a>
                </li>
                <li class="nav-item">
                    <a href="#features" class="nav-link">Features</a>
                </li>
                <li class="nav-item">
                    <a href="#team" class="nav-link">Team</a>
                </li>
                <li class="nav-item">
                    <a href="#contact" class="nav-link">Contact Us</a>
                </li>
            </ul>
            <!-- Request a Demo Button -->
            <a href="https://calendly.com/office-workflowtime/30min" target="_blank" class="btn btn-sm rounded-pill nav-btn ms-lg-3">Request a Demo</a>
            <!-- Language Switcher Form -->
            <form method="get" action="{% url 'set_language' %}" class="language-switcher ms-lg-3">
                <select name="lang_code" class="form-select" onchange="this.form.submit()">
                    <option value="en" {% if LANGUAGE_CODE == 'en' %}selected{% endif %}>ðŸ‡¬ðŸ‡§ EN</option>
                    <option value="ro" {% if LANGUAGE_CODE == 'ro' %}selected{% endif %}>ðŸ‡·ðŸ‡´ RO</option>
                </select>
            </form>
        </div>
    </div>
    <!-- end container -->
</nav>
<!-- Navbar End -->

<!-- Custom Styles -->
<style>
    /* Initial state styling for language switcher */
    .navbar-custom .language-switcher {
        position: relative;
        margin-left: 1rem;
        display: inline-block;
        transition: all 0.3s ease;
    }

    .navbar-custom .language-switcher .form-select {
        background-color: rgba(0,0,0,0) !important;
        border: none;
        color: rgba(239, 241, 245, 0.7) !important; /* Initial color */
        font-family: "Assistant", sans-serif;
        font-weight: 600;
        line-height: 26px;
        font-size: 18px; /* Larger font size */
        padding: 8px 12px; /* Padding matching dropdown options */
        margin: 0;
        appearance: none; /* Remove the dropdown arrow */
        text-align: center;
        width: auto;
        cursor: pointer;
        border-radius: 6px; /* Increased border-radius for rounded corners */
    }

    /* Sticky state styling for language switcher in light mode */
    .nav-sticky.navbar .language-switcher .form-select {
        color: #6c757d !important; /* Sticky color in light mode */
    }

    /* Sticky state styling for language switcher in dark mode */
    [data-bs-theme="dark"] .nav-sticky.navbar .language-switcher .form-select {
        color: #adb5bd !important; /* Sticky color in dark mode */
    }

    /* Hover effect with a box matching dropdown option size and rounded corners */
    .navbar-custom .language-switcher:hover::before {
        content: "";
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        width: 100%;
        height: 100%;
        padding: 8px 12px; /* Padding matching the dropdown options */
        border-radius: 6px; /* Rounded corners to match dropdown */
        background-color: rgba(255, 255, 255, 0.1); /* Subtle background color */
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1); /* Soft shadow */
        z-index: -1; /* Behind the text */
    }

    /* Ensure dropdown arrow is removed across all browsers */
    .navbar-custom .language-switcher .form-select::-ms-expand {
        display: none;
    }
    .navbar-custom .language-switcher .form-select {
        -moz-appearance: none;
        -webkit-appearance: none;
        appearance: none;
        background-image: none !important;
    }

    /* Flag size and visibility */
    .navbar-custom .language-switcher .form-select option {
        display: flex;
        align-items: center;
    }

    .navbar-custom .language-switcher .form-select option::before {
        content: attr(data-flag);
        display: inline-block;
        margin-right: 8px;
        font-size: 22px; /* Larger flag size */
    }

    /* Styling for dropdown options */
    .navbar-custom .language-switcher .form-select option {
        color: #000; /* Black text for options */
        background-color: #fff; /* White background for dropdown options */
    }

    /* Hover and focus styling */
    .navbar-custom .language-switcher .form-select:focus,
    .navbar-custom .language-switcher .form-select:hover {
        outline: none;
        box-shadow: none;
        background-color: transparent;
    }
</style>
{% endblock navbar %}
