{% load static %}
{% load i18n %}
{% block navbar %}
<!--Navbar Start-->
<nav class="navbar navbar-expand-lg fixed-top navbar-custom" id="navbar">
    <div class="container">
        <!-- LOGO -->
        <a class="navbar-brand logo" href="/">
            <img src="{% static 'images/logo-dark.png' %}" alt="" class="logo-dark" height="28" />
            <img src="{% static 'images/logo-light.png' %}" alt="" class="logo-light" height="28" />
        </a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav ms-auto navbar-center" id="navbar-navlist">
                <li class="nav-item">
                    <a href="#home" class="nav-link">{% trans "Home" %}</a>
                </li>
                <li class="nav-item">
                    <a href="#services" class="nav-link">{% trans "Services" %}</a>
                </li>
                <li class="nav-item">
                    <a href="#features" class="nav-link">{% trans "Features" %}</a>
                </li>
                <li class="nav-item">
                    <a href="#team" class="nav-link">{% trans "Team" %}</a>
                </li>
                <li class="nav-item">
                    <a href="#contact" class="nav-link">{% trans "Contact Us" %}</a>
                </li>
            </ul>
            <!-- Request a Demo Button -->
            <a href="https://calendly.com/office-workflowtime/30min" target="_blank" class="btn btn-sm rounded-pill nav-btn ms-lg-3">{% trans "Request a Demo" %}</a>
            <!-- Language Switcher Form -->
            <form method="get" action="{% url 'set_language' %}" class="language-switcher ms-lg-3">
                <select name="lang_code" class="form-select" onchange="this.form.submit()">
                    <option value="en" {% if LANGUAGE_CODE == 'en' %}selected{% endif %}>ðŸ‡¬ðŸ‡§ EN</option>
                    <option value="ro" {% if LANGUAGE_CODE == 'ro' %}selected{% endif %}>ðŸ‡·ðŸ‡´ RO</option>
                </select>
            </form>
        </div>
    </div>
    <!-- end container -->
</nav>
<!-- Navbar End -->

<!-- Custom Styles -->
<style>
    /* Initial state styling for language switcher */
    .navbar-custom .language-switcher {
        position: relative;
        margin-left: 1rem;
        display: inline-block;
        transition: all 0.3s ease;
    }

    /* Styling for the select element */
    .navbar-custom .language-switcher .form-select {
        background-color: transparent;
        border: none;
        color: rgba(239, 241, 245, 0.7); /* Light gray initial color */
        font-family: "Assistant", sans-serif;
        font-weight: 600;
        line-height: 1.5;
        font-size: 16px; /* Proportional text size */
        padding: 5px 10px; /* Consistent padding */
        margin: 0;
        appearance: none;
        text-align: center;
        cursor: pointer;
        border-radius: 5px; /* Rounded corners for a modern look */
    }

    /* Flag size and visibility */
    .navbar-custom .language-switcher .form-select option::before {
        content: attr(data-flag);
        display: inline-block;
        margin-right: 5px;
        font-size: 18px; /* Adequate flag size */
    }

    /* Sticky state styling for larger screens */
    @media (min-width: 992px) {
        .nav-sticky.navbar .language-switcher .form-select {
            color: #6c757d !important; /* Darker gray when sticky */
        }

        [data-bs-theme="dark"] .nav-sticky.navbar .language-switcher .form-select {
            color: #adb5bd !important; /* Lighter gray in dark mode when sticky */
        }
    }

    /* Consistent color for mobile */
    @media (max-width: 991px) {
        .navbar-custom .language-switcher .form-select {
            color: #6c757d !important; /* Consistent darker gray for mobile */
        }
    }

    /* Hover effect with subtle background and rounded corners */
    .navbar-custom .language-switcher:hover::before {
        content: "";
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        width: 100%;
        height: 100%;
        padding: 5px 10px;
        border-radius: 5px;
        background-color: rgba(255, 255, 255, 0.1); /* Subtle hover effect */
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        z-index: -1;
    }

    /* Ensure dropdown arrow is removed across all browsers */
    .navbar-custom .language-switcher .form-select::-ms-expand {
        display: none;
    }
    .navbar-custom .language-switcher .form-select {
        -moz-appearance: none;
        -webkit-appearance: none;
        appearance: none;
        background-image: none !important;
    }

    /* Dropdown options styling */
    .navbar-custom .language-switcher .form-select option {
        color: #000;
        background-color: #fff;
    }
</style>
{% endblock navbar %}
