{% load static %}
{% load i18n %}
{% block navbar %}
<!--Navbar Start-->
<nav class="navbar navbar-expand-lg fixed-top navbar-custom" id="navbar">
    <div class="container">
        <!-- LOGO -->
        <a class="navbar-brand logo" href="/">
            <img src="{% static 'images/15.png' %}" alt="" class="logo-dark" height="28" />
            <img src="{% static 'images/white_logo.png' %}" alt="" class="logo-light" height="28" />
        </a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav ms-auto navbar-center" id="navbar-navlist">
                <li class="nav-item">
                    <a href="#home" class="nav-link">{% trans "Home" %}</a>
                </li>
                <li class="nav-item">
                    <a href="#services" class="nav-link">{% trans "Services" %}</a>
                </li>
                <li class="nav-item">
                    <a href="#features" class="nav-link">{% trans "Features" %}</a>
                </li>
                <li class="nav-item">
                    <a href="#team" class="nav-link">{% trans "Team" %}</a>
                </li>
                <li class="nav-item">
                    <a href="#contact" class="nav-link">{% trans "Contact Us" %}</a>
                </li>
            </ul>
            <!-- Request a Demo Button -->
            <a href="https://calendly.com/office-workflowtime/30min" target="_blank" class="btn btn-sm rounded-pill nav-btn ms-lg-3">{% trans "Request a Demo" %}</a>
            <!-- Language Switcher Form -->
            <div class="dropdown language-switcher ms-lg-3">
    <!-- Button that displays the current language -->
    <button class="btn dropdown-toggle" type="button" id="languageDropdown" data-bs-toggle="dropdown" aria-expanded="false">
        {% if LANGUAGE_CODE == 'en' %}
            <img src="{% static 'images/flags/gb.png' %}" alt="EN" style="width: 18px; margin-right: 5px;"> EN
        {% elif LANGUAGE_CODE == 'ro' %}
            <img src="{% static 'images/flags/ro.png' %}" alt="RO" style="width: 18px; margin-right: 5px;"> RO
        {% else %}
            <span>üåê</span> Language
        {% endif %}
    </button>
    <ul class="dropdown-menu" aria-labelledby="languageDropdown">
        <!-- Dropdown items for selecting a language -->
        <li>
            <a class="dropdown-item" href="#" onclick="setLanguage('en')">
                <img src="{% static 'images/flags/gb.png' %}" alt="EN" style="width: 18px; margin-right: 5px;"> English
            </a>
        </li>
        <li>
            <a class="dropdown-item" href="#" onclick="setLanguage('ro')">
                <img src="{% static 'images/flags/ro.png' %}" alt="RO" style="width: 18px; margin-right: 5px;"> Romanian
            </a>
        </li>
    </ul>
</div>


<script>
    function setLanguage(langCode) {
        // Get the currently active language code from the button or some global context
        const currentLangCode = "{{ LANGUAGE_CODE }}";

        // Only submit the form if the selected language is different from the current one
        if (langCode !== currentLangCode) {
            document.getElementById('lang_code').value = langCode;
            document.getElementById('language-form').submit();
        }
    }
</script>


<!-- Hidden form for language switching -->
<form id="language-form" method="get" action="{% url 'set_language' %}">
    <input type="hidden" name="lang_code" id="lang_code">
</form>


        </div>
    </div>
    <!-- end container -->
</nav>
<!-- Navbar End -->


{% endblock navbar %}
